syntax = "proto3";

import "connect.proto";
import "disconnect.proto";
import "ack_updates.proto";
import "request_updates.proto";
import "send_new_events.proto";

// Contains a request between the client and the server.
message RequestWrapper {
  // Contains the session token. Required on all requests other than 'connect',
  // which is when it's returned to the client.
  string session_token = 1;

  // A random uuid generated by and used throught the lifetime of the client. Required.
  string client_id = 2;

  // The actual payload of the request. Corresponds to the request type above.
  oneof payload {
    ConnectRequest connect = 3;
    DisconnectRequest disconnect = 4;
    AckUpdatesRequest ack_updates = 5;
    RequestUpdatesRequest request_updates = 6;
    SendNewEventsRequest send_new_events = 7;
  }
}

message ResponseWrapper {
  // The actual payload of the response. Corresponds to the request type above.
  oneof payload {
    ConnectResponse connect = 1;
    DisconnectResponse disconnect = 2;
    AckUpdatesResponse ack_updates = 3;
    RequestUpdatesResponse request_updates = 4;
    SendNewEventsResponse send_new_events = 5;
  }
}


